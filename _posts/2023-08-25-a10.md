---
layout: single
title:  "Node.js ë°±ì—”ë“œ ìŠ¤í„°ë””(13) - NestJSë¡œ ì§ì ‘ ê¸°íší•œ API ë§Œë“¤ê¸°(1) - CRU"
categories: Backend
tag: [Backend, NestJS]
toc: true 































---

### ì†ŒìŠ¤ ì½”ë“œ

[[ë¦¬í¬ì§€ ë§í¬](https://github.com/dkgkejdrb/nestjs-api-practice-1.git)]



### ë“¤ì–´ê°€ê¸° ì „ì—

ì´ë²ˆ ì¥ì—ì„œëŠ” ì•ì—ì„œ ì‹¤ìŠµí–ˆë˜ NesJS API ë§Œë“¤ê¸°ë¥¼ ì‹¤ì „ì— ì‚¬ìš©í•´ë³´ê¸° ìœ„í•´, ì˜ˆì „ì— ì‹¤ë¬´ì—ì„œ ì‘ì„±í–ˆë˜ Backedn API ìš”ì²­í•­ëª© ì¤‘ ì¼ë¶€ë¥¼ ì°¸ê³ í•˜ì—¬ ì§ì ‘ ë§Œë“¤ì–´ë³´ë ¤ê³  í•œë‹¤.



### 1. Backend API ëª…ì„¸ì„œ í™•ì¸

Primary Key(íšŒì› ê³ ìœ ë²ˆí˜¸, í´ë˜ìŠ¤ ê³ ìœ ë²ˆí˜¸)ë¥¼ í¬í•¨í•œ í•„ìš”í•œ ì •ë³´ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

```
1. íšŒì› ê³ ìœ ë²ˆí˜¸*
: int
: ì¡°íšŒí•˜ëŠ” ìš©ë„(1).

2. í´ë˜ìŠ¤ ê³ ìœ ë²ˆí˜¸*
: string
: ì¡°íšŒí•˜ëŠ” ìš©ë„(2).

3. ì¡° ì±—ë´‡ ëœë”© í˜ì´ì§€ì— ì ìš©í•  í•œ ê°œì˜ í•™ìŠµë°ì´í„°*
: object
: í•™ìƒì´ ì„œë²„ì— ì €ì¥í•œ í•™ìŠµ ë°ì´í„°ë“¤ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒ, ì €ì¥

4. ì¡° ì±—ë´‡ ëœë”© í˜ì´ì§€ì˜ ë””ìì¸ì— ì ìš©ë  ì„¤ì •ê°’ë“¤*
: object
: ì €ì¥í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ, ì¡°íšŒ í›„, DBì˜ pageSettingsì— ì„¤ì •ì°½ì˜ pageSettingsë¡œ ë®ì–´ì“°ê¸°

4-1. ì¡° ëœë”© í˜ì´ì§€ ëŒ€í‘œ ì¹¼ë¼ í…Œë§ˆê°’*
: string, 1ì´ìƒ 20 ì´í•˜ì˜ ê¸¸ì´
: ì˜ˆ) "blackWhite"

4-2. ì¡° ëœë”© í˜ì´ì§€ íƒ€ì´í‹€*
: string, 1ì´ìƒ 30 ì´í•˜ì˜ ê¸¸ì´

4-3. ì¡° ëœë”© í˜ì´ì§€ ì„¤ëª…*
: string, 1 ì´ìƒ 100 ì´í•˜ì˜ ê¸¸ì´

4-4. ì¡° ë©”ì¸ ë°°ë„ˆ ì´ë¯¸ì§€*
: object, ì´ë¯¸ì§€ íŒŒì¼ì˜ ì´ë¦„, ìŠ¤í† ë¦¬ì§€ ì£¼ì†Œ
: êµ¬ì„± ê°’
  : 4-4-1. name (strin)
  : 4-4-2. path (url)

4-5. ì¡° ì±—ë´‡ ì´ë¦„*
: string, 1 ì´ìƒ 12 ì´í•˜ì˜ ê¸¸ì´

4-6. ì¡° ì±—ë´‡ í•œì¤„ì†Œê°œ*
: string, 1 ì´ìƒ 30 ì´í•˜ì˜ ê¸¸ì´

4-7. ì¡° ì±—ë´‡ ëª©ì *
: string, 1 ì´ìƒ 100 ì´í•˜ì˜ ê¸¸ì´

4-8. ì¡° ì±—ë´‡ ì‚¬ìš©ì„¤ëª…*
: string, 1 ì´ìƒ 100 ì´í•˜ì˜ ê¸¸ì´

4-9. ì¡° ì±—ë´‡ ê¸°ëŒ€íš¨ê³¼*
: string, 1 ì´ìƒ 30 ì´í•˜ì˜ ê¸¸ì´

4-10. ì¡° í™˜ì˜ ë©”ì‹œì§€*
: string, 1 ì´ìƒ 60 ì´í•˜ì˜ ê¸¸ì´

4-11. ì¡° ì±—ë´‡ ì•„ì´ì½˜*
: emoji string(utf8mb4)
```

------



### 2. ìŠ¤í‚¤ë§ˆ êµ¬ì„±ì„ ìœ„í•œ ë³€ìˆ˜ëª… ì •ì˜

NestJS í”„ë¡œì íŠ¸ ìƒì„± ì „, json í˜•íƒœë¡œ íƒ€ì…ì„ ì§œë³´ê³ , í…ŒìŠ¤íŠ¸ ë°ì´í„°ë„ ë„£ì—ˆë‹¤. í˜ì´ì§€ë¥¼ ê¾¸ë¯¸ëŠ” ìš©ë„ì˜ ì…‹íŒ…ê°’ê³¼ ì±—ë´‡ì„ êµ¬ì„±í•˜ëŠ” ê°’ì„ ê°ê° êµ¬ë¶„í•˜ì—¬ ì‘ì„±í–ˆë‹¤.

```json
{
    userNum: 1234,
    classNum: 5678,
    chatbotSetting: {
	   learningData: {
            topK: 0,
            topP: 0.7,
            content: "ì´ê²ƒì€ ì±—ë´‡ í•™ìŠµ ë°ì´í„°"
    	},
        chatbotName: "ì±—ë´‡",
        chatbotDescription: "ì±—ë´‡ í•œì¤„ì†Œê°œ",
        chatbotPurpose: "ì±—ë´‡ ëª©ì ",
        chatbotGuide: "ì±—ë´‡ ì‚¬ìš©ì„¤ëª…",
        chatbotExpectedEffect: "ì±—ë´‡ ê¸°ëŒ€íš¨ê³¼",
        chatbotWelcomeMessage: "ì±—ë´‡ í™˜ì˜ ë©”ì‹œì§€",
        chatbotIcon: "ğŸ˜»"
    },
    pageSetting: {
        theme: "blackWhite",
        title: "ëœë”©í˜ì´ì§€ íƒ€ì´í‹€ì…ë‹ˆë‹¤.",
        description: "ëœë”©í˜ì´ì§€ ì„¤ëª…ì…ë‹ˆë‹¤.",
        mainBanner: {
            name: "cat.png",
            path: "https://forumadmin.blob.core.windows.net/images/62f37380-f9cc-11ed-bb64-372aa008c65d.png",
        }
    }
}
```

------



### 3. í”„ë¡œì íŠ¸ ìƒì„± ë° ë””ë ‰í„°ë¦¬ ì´ˆê¸°í™”

ìˆœì„œ 1. ì›í•˜ëŠ” ê²½ë¡œì— í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤

```bash
npm install -g @nestjs/cli

npx @nestjs/cli new nestjs-api-practice-1
```

------

ìˆœì„œ 2. ì•„ë˜ì™€ ê°™ì´ ë””ë ‰í„°ë¦¬ë¥¼ ì´ˆê¸°í™” í•œë‹¤.

![image-20230824141820579](../../images/2023-08-24-a10/image-20230824141820579.png)

------



ìˆœì„œ 3. ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤ë¥¼ ëª¨ë“ˆì— ë“±ë¡í•˜ê³ , main.ts ì½”ë“œë„ ì•„ë˜ì™€ ê°™ì€ì§€ í™•ì¸í•œë‹¤. main.tsëŠ” ì•±ì´ ì‹¤í–‰ë˜ì—ˆì„ ë•Œ ì²˜ìŒìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê³„ì¸µì´ë‹¤.

```typescript
// app.module.ts

import { Module } from "@nestjs/common";
import { LandingPageController } from "./landingPage.controller";
import { LandingPageService } from './landingPage.service';

@Module({
  imports: [],
  controllers: [LandingPageController],
  providers: [LandingPageService]
})
export class AppModule { }
```

```typescript
// landingPage.controller.ts

export class LandingPageController { }
```

```typescript
// landingPage.service.ts

export class LandingPageService { }
```

```typescript
// main.ts

import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  await app.listen(3000);
}
bootstrap();
```

------



### 4. ìŠ¤í‚¤ë§ˆ(landingPage.schema.ts) ì‘ì„±í•˜ê¸°

ìˆœì„œ 1. mongoose ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜í•˜ê¸°

```bash
npm install @nestjs/mongoose mongoose
```

------

ìˆœì„œ 2. ë„íë¨¼íŠ¸ íƒ€ì…ê³¼ ìŠ¤í‚¤ë§ˆë¥¼ ì‘ì„±í•œë‹¤

@Prop({ type: Object })ë¥¼ ì‚¬ìš©í•˜ì—¬ Object íƒ€ì…ì„ ì§€ì •í•˜ëŠ” ë°©ì‹ì€ ì¢‹ì§€ ì•Šë‹¤. ê°€ëŠ¥í•œ í•œ í•´ë‹¹ ê°ì²´ì˜ êµ¬ì¡°ë¥¼ ëª…í™•í•˜ê²Œ ì •ì˜í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì•„ë˜ ì‘ì„±í•œ ì½”ë“œë¥¼ ì°¸ê³ í•˜ë„ë¡ í•˜ì

```typescript
// landingPage.schema.ts

import { Schema, Prop, SchemaFactory } from "@nestjs/mongoose";
import { Document } from "mongoose";

// ë„íë¨¼íŠ¸ ì •ì˜
export type LandingPageDocument = LandingPage & Document;

@Schema()
export class LearningData {
    @Prop()
    topK: number;

    @Prop()
    topP: number;

    @Prop()
    content: string;
}

@Schema()
export class ChatbotSetting {
    @Prop({ type: LearningData })
    learningData: LearningData

    @Prop()
    chatbotName: string;

    @Prop()
    chatbotDescription: string;

    @Prop()
    chatbotPurpose: string;

    @Prop()
    chatbotGuide: string;

    @Prop()
    chatbotExpectedEffect: string;

    @Prop()
    chatbotWelcomeMessage: string;

    @Prop()
    chatbotIcon: string;
}

@Schema()
export class MainBanner {
    @Prop()
    name: string;

    @Prop()
    path: string;
}


@Schema()
export class PageSetting {
    @Prop()
    theme: string;

    @Prop()
    title: string;

    @Prop()
    description: string;

    @Prop({ type: MainBanner })
    mainBanner: MainBanner;
}


// ë©”ì¸ ìŠ¤í‚¤ë§ˆ
@Schema()
export class LandingPage {
    @Prop()
    userNum: number;

    @Prop()
    classNum: number;

    @Prop({ type: ChatbotSetting })
    chatbotSetting: ChatbotSetting; // chatbotSetting ê°ì²´ì˜ êµ¬ì¡°ë¥¼ ëª…í™•í•˜ê²Œ ì§€ì •

    @Prop({ type: PageSetting })
    pageSetting: PageSetting; // pageSetting ê°ì²´ì˜ êµ¬ì¡°ë¥¼ ëª…í™•í•˜ê²Œ ì§€ì •
}

// ìŠ¤í‚¤ë§ˆ ìƒì„±
export const LandingPageSchema = SchemaFactory.createForClass(LandingPage);
```

------





### 5. ëª½ê³ DB(landingPage.repository.js)ë¥¼ ì‚¬ìš©í•˜ëŠ” ë¦¬í¬ì§€í† ë¦¬ ì¶”ê°€í•˜ê¸°

ìˆœì„œ 1. Backend API ëª…ì„¸ì„œë¥¼ ë³´ê³  ì•„ë˜ì™€ ê°™ì´ ìŠ¤í™ì„ ì •ë¦¬í•œë‹¤

| URL                                            | HTTP ë©”ì„œë“œ | ì„¤ëª…                                                         |
| ---------------------------------------------- | ----------- | ------------------------------------------------------------ |
| /                                              | GET         | ëª¨ë“  ìœ ì €ì˜ ëœë”©í˜ì´ì§€ êµ¬ì„±ê°’ì„ ê°€ì ¸ì˜¨ë‹¤                     |
| /landingPage/<í´ë˜ìŠ¤ ê³ ìœ ë²ˆí˜¸>/<ìœ ì € ê³ ìœ ë²ˆí˜¸> | GET         | paramsë¡œ ë„˜ì–´ì˜¨ ìœ ì € ê³ ìœ ë²ˆí˜¸ì™€ í´ë˜ìŠ¤ ê³ ìœ ë²ˆí˜¸ë¡œ í•´ë‹¹ ìœ ì €ì˜ ëœë”©í˜ì´ì§€ êµ¬ì„±ê°’ì„ ê°€ì ¸ì˜¨ë‹¤ |
| /landingPage                                   | POST        | ëœë”©í˜ì´ì§€ì˜ êµ¬ì„±ê°’ì„ ì‘ì„±í•œë‹¤                               |
| /landingPage                                   | PUT         | ëœë”©í˜ì´ì§€ì˜ êµ¬ì„±ê°’ì„ ìˆ˜ì •í•œë‹¤                               |

------



ìˆœì„œ 2. ìœ„ ìŠ¤í™ì„  ì¸í„°í˜ì´ìŠ¤(LandingPageRepository)ë¥¼ ë…¹ì—¬ë‚´ì–´ ì‘ì„±í•œë‹¤. **ì¸í„°í˜ì´ìŠ¤ëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œ HTTP paramsì™€ bodyë“±ì„ ì „ë‹¬ë°›ì•„ í†µì‹ í•˜ëŠ” ë°ì´í„°ë¥¼ ì˜ë¯¸í•œë‹¤.** ê·¸ë¦¬ê³  ì¸í„°í˜ì´ìŠ¤ì—ì„œ Object Objectë„ ìœ„ ìŠ¤í‚¤ë§ˆ ì •ì˜ ë•Œì™€ ë¹„ìŠ·í•˜ê²Œ í•„ìš”í•œ í•„ë“œë¥¼ ì¶”ê°€í•˜ì—¬ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```typescript
// landingPage.model.ts

// ê° interfaceë¥¼ í•„ë“œë¼ê³  ë¶€ë¥¸ë‹¤
export interface LearningData {
    topK: number;
    topP: number;
    content: string;
}

export interface ChatbotSetting {
    learningData: LearningData;
    chatbotName: string;
    chatbotDescription: string;
    chatbotPurpose: string;
    chatbotGuide: string;
    chatbotExpectedEffect: string;
    chatbotWelcomeMessage: string;
    chatbotIcon: string;
}

export interface MainBanner {
    name: string;
    path: string;
}

export interface PageSetting {
    theme: string;
    title: string;
    description: string;
    mainBanner: MainBanner;
}

export interface PostDto {
    userNum: number;
    classNum: number;
    chatbotSetting: ChatbotSetting // chatbotSetting ê°ì²´ì˜ êµ¬ì¡°ë¥¼ ëª…í™•í•˜ê²Œ ì§€ì •
    pageSetting: PageSetting; // pageSetting ê°ì²´ì˜ êµ¬ì¡°ë¥¼ ëª…í™•í•˜ê²Œ ì§€ì •
}
```

------



ìˆœì„œ 3. ë¦¬í¬ì§€í† ë¦¬(landingPage.repository.ts)ì— ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ê³ , ëª½ê³ DBë¥¼ ë‹¤ë£° í•¨ìˆ˜ë¥¼ ì •ì˜í•œë‹¤.

```typescript
import { InjectModel } from "@nestjs/mongoose";
import { Model } from "mongoose";
import { LandingPage, LandingPageDocument } from "./landingPage.schema";
import { PostDto } from "./landingPage.model";
import { Injectable } from "@nestjs/common";

// ë¦¬í¬ì§€í† ë¦¬ ì¸í„°í˜ì´ìŠ¤ ì •ì˜
export interface LandingPageRepository {
    getAllPost(): Promise<PostDto[]>;
    getPost(userNum: number, classNum: number): Promise<PostDto>;
    createPost(postDto: PostDto);
    updatePost(userNum: number, classNum: number, postDto: PostDto);
}

@Injectable()
export class LandingMongoRepository implements LandingPageRepository {
    // landingPageModel ì£¼ì…
    constructor(@InjectModel(LandingPage.name) private landingPageModel: Model<LandingPageDocument>) { }

    // ëª¨ë“  ìœ ì €ì˜ ëœë”©í˜ì´ì§€ êµ¬ì„±ê°’ì„ ê°€ì ¸ì˜´
    async getAllPost(): Promise<PostDto[]> {
        return await this.landingPageModel.find().exec();
    }

    // ëœë”©í˜ì´ì§€ì˜ êµ¬ì„±ê°’ì„ ì‘ì„±(ìƒì„±)
    async createPost(postDto: PostDto) {
        const createPost = {
            ...postDto,
            createdDt: new Date(),
            updatedDt: new Date(),
        };
        this.landingPageModel.create(createPost);
    }

    // íŠ¹ì • ìœ ì €ì˜ ëœë”©í˜ì´ì§€ì˜ êµ¬ì„±ê°’ì„ ì½ê¸°
    // .findOne ë©”ì„œë“œë¡œ íšŒì› ê³ ìœ ë²ˆí˜¸ì™€ í´ë˜ìŠ¤ ê³ ìœ ë²ˆí˜¸ë¥¼ í‚¤ê°’ìœ¼ë¡œ ì°¾ìŒ
    async getPost(userNum: number, classNum: number): Promise<PostDto> {
        return await this.landingPageModel.findOne({ userNum, classNum });
    }

    // ëœë”©í˜ì´ì§€ì˜ êµ¬ì„±ê°’ì„ ìˆ˜ì •
    async updatePost(userNum: number, classNum: number, postDto: PostDto) {
        const updatePost = {
            userNum,
            classNum,
            ...postDto,
            updatedPost: new Date()
        };
        await this.landingPageModel.findOneAndUpdate({ userNum, classNum }, updatePost)
    }
}
```

------





### 6. ì„œë¹„ìŠ¤(LandingPageService) ì‘ì„±í•˜ê¸°

ë¦¬í¬ì§€í† ë¦¬ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ê³ , ë¦¬í¬ì§€í† ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¨ìˆœí•œ ë¡œì§ìœ¼ë¡œ ë³€ê²½í•œë‹¤.

```typescript
// landingPage.service.ts

import { PostDto } from "./landingPage.model";
import { Injectable } from "@nestjs/common";
import { LandingMongoRepository } from "./landingPage.repository";

@Injectable()
export class LandingPageService {
    // ë¦¬í¬ì§€í† ë¦¬ ì˜ì¡´ì„± ì£¼ì…
    constructor(private landingRepository: LandingMongoRepository) { }

    async getAllPosts() {
        return await this.landingRepository.getAllPost();
    }

    createPost(postDto: PostDto) {
        this.landingRepository.createPost(postDto);
    }

    // 1. ì˜ˆì™¸ì²˜ë¦¬ í•˜ì§€ ì•Šìœ¼ë©´ ì„œë²„ ì¢…ë£Œ ë¨
    async getPost(userNum: number, classNum: number) {
        try {
            return await this.landingRepository.getPost(userNum, classNum);
        } catch (error) {
            console.log(error)
        }
    }

    // ìˆ˜ì •ëœ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ return
    updatePost(userNum: number, classNum: number, postDto: PostDto) {
        return this.landingRepository.updatePost(userNum, classNum, postDto)
    }
}
```

1ë²ˆ. getPost()ë¥¼ í˜¸ì¶œí•˜ëŠ”ë°ë„, ë¦¬í„´ê°’ì´ ì—†ê¸¸ë˜ ì›ì¸ì„ ì°¾ì•„ë´¤ë”ë‹ˆ, return awaitì„ í•´ì£¼ì§€ ì•Šì•„ ê²°ê³¼ë¥¼ ë°›ì•„ë³¼ ìˆ˜ê°€ ì—†ì—ˆë‹¤. ì‘ë‹µì€ ë˜ëŠ”ë° ê²°ê³¼ê°€ ë°˜í™˜ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ì´ìª½ì„ ì‚´í´ë³´ì

------



### 7. ì»¨íŠ¸ë¡¤ëŸ¬(landingPage.controller) ì‘ì„±í•˜ê¸°

ì„œë¹„ìŠ¤ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•œë‹¤.

```typescript
// landingPage.controller.ts

import { LandingPageService } from "./landingPage.service";
import { Controller, Get, Post, Body, Param, Put } from "@nestjs/common";

// API í˜¸ì¶œì‹œ, <ë² ì´ìŠ¤URL>/landingPage ì„¤ì •
@Controller('landingPage')
export class LandingPageController {

  // ì„œë¹„ìŠ¤ ì˜ì¡´ì„± ì£¼ì…
  constructor(private landingPageService: LandingPageService) { }

  @Get()
  getAllPosts() {
    console.log('ëª¨ë“  ëœë”©í˜ì´ì§€ ì •ë³´ ê°€ì ¸ì˜¤ê¸°');
    return this.landingPageService.getAllPosts();
  }

  @Post()
  createPost(@Body() postDto) {
    console.log('ëœë”©í˜ì´ì§€ ì‘ì„±');

    this.landingPageService.createPost(postDto);
    return 'success';
  }

  @Get('/:classNum/:userNum')
  getPost(@Param('userNum') userNum: number, @Param('classNum') classNum: number) {
    console.log('ëœë”©í˜ì´ì§€ í•˜ë‚˜ ê°€ì ¸ì˜¤ê¸°');
    return this.landingPageService.getPost(userNum, classNum);
  }

  @Put('/:classNum/:userNum')
  updatePost(@Param('userNum') userNum: number, @Param('classNum') classNum: number, @Body() postDto) {
    console.log('ëœë”©í˜ì´ì§€ ì—…ë°ì´íŠ¸');
    return this.landingPageService.updatePost(userNum, classNum, postDto);
  }
}
```

------



### 8. ëª¨ë“ˆ(app.module.ts)ë¡œ íŒ¨í‚¹

app.module.tsì— importsì™€ providerë¥¼ ì„¤ì •í•œë‹¤.

```typescript
// app.module.ts

import { Module } from "@nestjs/common";
import { LandingPageController } from "./landingPage.controller";
import { LandingPageService } from './landingPage.service';
import { MongooseModule } from "@nestjs/mongoose";
import { LandingPage, LandingPageSchema } from "./landingPage.schema";
import { LandingMongoRepository } from "./landingPage.repository";

@Module({
  imports: [
    // 1. ëª½ê³ DB ì—°ê²° ì„¤ì •, ëì— ë°ì´í„°ë² ì´ìŠ¤(landingPage)ì˜ ì´ë¦„ìœ¼ë¡œ ë³€ê²½
    MongooseModule.forRoot(
      'mongodb+srv://<ìœ ì €ëª…>:<ë¹„ë²ˆ>@cluster0.vbpuhau.mongodb.net/landingPage'
    ),
    // 2. ëª½ê³ DB ìŠ¤í‚¤ë§ˆ ì„¤ì •
    MongooseModule.forFeature([{ name: LandingPage.name, schema: LandingPageSchema }])
  ],
  controllers: [LandingPageController],
  // 3. í”„ë¡œë°”ì´ë” ì„¤ì •
  providers: [LandingPageService, LandingMongoRepository]
})
export class AppModule { }
```

------



### 9. Postman í…ŒìŠ¤íŠ¸í•˜ê¸°

ìˆœì„œ 1. Postmanì— ì•„ë˜ì™€ ê°™ì´ requestë¥¼ ìƒì„±í–ˆë‹¤

![image-20230825102002112](../../images/2023-08-24-a10/image-20230825102002112.png)

------

ìˆœì„œ 2. POST ëœë”©í˜ì´ì§€ ì‘ì„± í…ŒìŠ¤íŠ¸

![image-20230825102110464](../../images/2023-08-24-a10/image-20230825102110464.png)

------

ìˆœì„œ 3. GET ëœë”©í˜ì´ì§€ ì„¤ì •ê°’ í•˜ë‚˜ ê°€ì ¸ì˜¤ê¸°

![image-20230825102224729](../../images/2023-08-24-a10/image-20230825102224729.png)

------

ìˆœì„œ 4. PUT ëœë”©í˜ì´ì§€ ì„¤ì •ê°’ ì—…ë°ì´íŠ¸

![image-20230825102411530](../../images/2023-08-24-a10/image-20230825102411530.png)

------

ìˆœì„œ 5. GET ëª¨ë“  ëœë”©í˜ì´ì§€ ì„¤ì •ê°’ ê°€ì ¸ì˜¤ê¸°

(ìƒëµ)

------



### 10. ì‹œí–‰ì°©ì˜¤ë“¤

1. ì„œë²„ë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ, í„°ë¯¸ë„ì—ì„œ ë¡œê·¸ê°€ ë³´ì´ì§€ ì•Šì•˜ëŠ”ë°, ì´ëŸ¬í•œ ê²½ìš°ëŠ” main.tsì— ì½”ë“œê°€ ì—†ì–´ì„œ ë°œìƒí•œ ë¬¸ì œì˜€ë‹¤.

```typescript
// main.ts

import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  await app.listen(3000);
}
bootstrap();

```



2. í…ŒìŠ¤íŠ¸ëŠ” Postmanìœ¼ë¡œ í•˜ì.



3. API í˜¸ì¶œ ì‹œ, ì„œë¸Œ ë„ë©”ì¸ì˜ ì„¤ì •ì€ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ @Controllerì˜ ë§¤ê°œë³€ìˆ˜ë¡œ ì„¤ì •í•  ìˆ˜ ìˆê³ , ì €ê¸°ì— ìˆëŠ” ê°’ì„ ë©”ì¸ ë„ë©”ì¸ë’¤ì— ë¶™ì—¬ì•¼ í•œë‹¤.

```typescript
// landingPage.controller.ts

... ìƒëµ ...
@Controller('landingPage')
export class LandingPageController {
```

![image-20230825103026017](../../images/2023-08-24-a10/image-20230825103026017.png)





### ì°¸ê³ 

- [Node.js ë°±ì—”ë“œ ê°œë°œì ë˜ê¸°, ê³¨ë“ ë˜ë¹—, ë°•ìŠ¹ê·œ ì§€ìŒ](https://goldenrabbit.co.kr/product/be_node_backend/)



### ë‹¤ìŒì— ë‹¤ë£¨ê²Œ ë  ê²ƒ

- NestJSë¡œ ì§ì ‘ ê¸°íší•œ API ë§Œë“¤ê¸°(2) - Deleteì™€ ì˜ˆì™¸ì²˜ë¦¬



